<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>axios 发送 AJAX请求</title>
    <script crossorigin="anonymous" src="../../js/axios.min.js"></script>
</head>

<body>
<button onclick="get0()">GET</button>
<button>POST</button>
<button>AJAX</button>

<script>
    function get0() {
        //axios异步get
        axios({
            method: "get",
            url: "http://yapi.smart-xwork.cn/mock/169327/emp/list"
        }).then(result => {
            console.log(result.data)
            console.log(111)
        })

        //简写
        axios.get("http://yapi.smart-xwork.cn/mock/169327/emp/list").then(result => {
            console.log(result.data)
        })
    }

    function post0() {
        //axios异步post
        axios({
            //请求方法
            method: 'POST',
            //url
            url: "http://yapi.smart-xwork.cn/mock/169327/emp/deleteById",
            //url参数
            params: {
                vip: 10,
                level: 30
            },
            //头信息
            headers: {
                a: 100,
                b: 200
            },
            //请求体参数
            data: {
                id:1,
            }
        }).then(response => {
            //响应状态码
            console.log(response.status);
            //响应状态字符串
            console.log(response.statusText);
            //响应头信息
            console.log(response.headers);
            //响应体
            console.log(response.data);
        })

        //简写形式
        axios.gpost("https://yapi.smart-xwork.cn/mock/169327/emp/deleteById","id=1").then(result => {
            console.log(result.data)
        })

    }


    //配置 baseURL
    axios.defaults.baseURL = 'http://127.0.0.1:8000';
    function get1() {
        //GET 请求
        axios.get('/axios-server', {
            //url 参数
            params: {
                id: 100,
                vip: 7
            },
            //请求头信息
            headers: {
                name: 'atguigu',
                age: 20
            }
        }).then(value => {
            console.log(value);
        });

    }

    function post1() {
        axios.post('/axios-server', {
            username: 'admin',
            password: 'admin'
        }, {
            //url
            params: {
                id: 200,
                vip: 9
            },
            //请求头参数
            headers: {
                height: 180,
                weight: 180,
            }
        });
    }


</script>
</body>

</html>